<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ | ãƒ¯ãƒ³ã‚¿ãƒƒãƒç®¡ç†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background: #f5f5f5;
            padding: 40px 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        h1 {
            color: #333;
            margin-bottom: 32px;
        }

        .section {
            margin-bottom: 32px;
            padding: 24px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .section h2 {
            font-size: 18px;
            color: #9B2335;
            margin-bottom: 16px;
        }

        .btn {
            background: #9B2335;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            margin-right: 12px;
            margin-bottom: 8px;
        }

        .btn:hover {
            background: #7a1c2a;
        }

        .btn-secondary {
            background: #757575;
        }

        .btn-secondary:hover {
            background: #616161;
        }

        .result {
            margin-top: 16px;
            padding: 16px;
            background: #e8f5e9;
            border-left: 4px solid #4caf50;
            border-radius: 4px;
            display: none;
        }

        .result.error {
            background: #ffebee;
            border-left-color: #f44336;
        }

        pre {
            background: #263238;
            color: #aed581;
            padding: 16px;
            border-radius: 4px;
            overflow-x: auto;
            font-size: 12px;
            margin-top: 16px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ§ª ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ</h1>

        <div class="section">
            <h2>1. æ¥­è€…ãƒ‡ãƒ¼ã‚¿ï¼ˆPartnersï¼‰</h2>
            <button class="btn" onclick="createPartners()">æ¥­è€…ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ</button>
            <button class="btn-secondary btn" onclick="clearPartners()">æ¥­è€…ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤</button>
            <div id="partnerResult" class="result"></div>
        </div>

        <div class="section">
            <h2>2. é€šå ±ãƒ‡ãƒ¼ã‚¿ï¼ˆReportsï¼‰</h2>
            <button class="btn" onclick="createReports()">é€šå ±ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆ</button>
            <button class="btn-secondary btn" onclick="clearReports()">é€šå ±ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤</button>
            <div id="reportResult" class="result"></div>
        </div>

        <div class="section">
            <h2>3. ãƒ‡ãƒ¼ã‚¿ç¢ºèª</h2>
            <button class="btn" onclick="viewData()">ç¾åœ¨ã®ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª</button>
            <pre id="dataView" style="display: none;"></pre>
        </div>

        <div class="section">
            <h2>4. ã™ã¹ã¦ã‚¯ãƒªã‚¢</h2>
            <button class="btn-secondary btn" onclick="clearAll()">å…¨ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤</button>
        </div>
    </div>

    <script>
        // ========================================
        // æ¥­è€…ãƒ‡ãƒ¼ã‚¿ä½œæˆ
        // ========================================
        function createPartners() {
            const partners = [
                {
                    id: 'PARTNER-001',
                    companyCode: 'TAMJ',
                    officeCode: '',
                    type1: 'building',
                    type2: 'hvac',
                    name: 'æ±äº¬è¨­å‚™å·¥æ¥­æ ªå¼ä¼šç¤¾',
                    contactName: 'å±±ç”°å¤ªéƒ',
                    postalCode: '100-0001',
                    prefecture: 'æ±äº¬éƒ½',
                    address: 'åƒä»£ç”°åŒºåƒä»£ç”°1-1',
                    building: 'è¨­å‚™ãƒ“ãƒ«5F',
                    phone: '03-1234-5678',
                    contactPhone: '090-1234-5678',
                    fax: '03-1234-5679',
                    email: 'contact@tokyo-setubi.co.jp',
                    notes: 'TAMJç¤¾ã®ä¸»è¦è¨­å‚™æ¥­è€…',
                    // æ¥­è€…ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±
                    partnerCode: 'P001',
                    loginId: 'p001-yamada',
                    password: 'password123',
                    categories: ['ç©ºèª¿', 'çµ¦æ¹¯', 'é›»æ°—'],
                    assignedCompanies: ['TAMJ'],
                    status: 'active',
                    createdAt: '2026/02/09'
                },
                {
                    id: 'PARTNER-002',
                    companyCode: 'TAMJ',
                    officeCode: '',
                    type1: 'building',
                    type2: 'plumbing',
                    name: 'é–¢æ±æ°´é“ã‚µãƒ¼ãƒ“ã‚¹æ ªå¼ä¼šç¤¾',
                    contactName: 'ä½è—¤æ¬¡éƒ',
                    postalCode: '100-0002',
                    prefecture: 'æ±äº¬éƒ½',
                    address: 'åƒä»£ç”°åŒºä¸¸ã®å†…2-2',
                    building: 'æ°´é“ãƒ“ãƒ«3F',
                    phone: '03-2345-6789',
                    contactPhone: '080-2345-6789',
                    fax: '03-2345-6790',
                    email: 'info@kanto-suido.co.jp',
                    notes: 'æ°´é“é–¢é€£å°‚é–€',
                    // æ¥­è€…ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±
                    partnerCode: 'P002',
                    loginId: 'p002-sato',
                    password: 'password456',
                    categories: ['æ°´é“', 'çµ¦æ¹¯'],
                    assignedCompanies: ['TAMJ'],
                    status: 'active',
                    createdAt: '2026/02/09'
                },
                {
                    id: 'PARTNER-003',
                    companyCode: 'TAMJ',
                    officeCode: '',
                    type1: 'building',
                    type2: 'electrical',
                    name: 'æ—¥æœ¬é›»æ°—å·¥äº‹æ ªå¼ä¼šç¤¾',
                    contactName: 'éˆ´æœ¨ä¸‰éƒ',
                    postalCode: '100-0003',
                    prefecture: 'æ±äº¬éƒ½',
                    address: 'åƒä»£ç”°åŒºå¤§æ‰‹ç”º3-3',
                    building: 'é›»æ°—ãƒ“ãƒ«7F',
                    phone: '03-3456-7890',
                    contactPhone: '090-3456-7890',
                    fax: '03-3456-7891',
                    email: 'suzuki@nihon-denki.co.jp',
                    notes: 'é›»æ°—è¨­å‚™å°‚é–€',
                    // æ¥­è€…ãƒ­ã‚°ã‚¤ãƒ³æƒ…å ±
                    partnerCode: 'P003',
                    loginId: 'p003-suzuki',
                    password: 'password789',
                    categories: ['é›»æ°—', 'è¨­å‚™'],
                    assignedCompanies: ['TAMJ'],
                    status: 'active',
                    createdAt: '2026/02/09'
                }
            ];

            localStorage.setItem('partners', JSON.stringify(partners));
            
            const result = document.getElementById('partnerResult');
            result.style.display = 'block';
            result.className = 'result';
            result.innerHTML = `
                âœ… æ¥­è€…ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã—ãŸï¼<br>
                <strong>${partners.length}ä»¶</strong> ã®æ¥­è€…ã‚’ç™»éŒ²<br><br>
                <small>
                æ¥­è€…1: æ±äº¬è¨­å‚™å·¥æ¥­ (ç©ºèª¿/çµ¦æ¹¯/é›»æ°—) - ãƒ­ã‚°ã‚¤ãƒ³ID: p001-yamada<br>
                æ¥­è€…2: é–¢æ±æ°´é“ã‚µãƒ¼ãƒ“ã‚¹ (æ°´é“/çµ¦æ¹¯) - ãƒ­ã‚°ã‚¤ãƒ³ID: p002-sato<br>
                æ¥­è€…3: æ—¥æœ¬é›»æ°—å·¥äº‹ (é›»æ°—/è¨­å‚™) - ãƒ­ã‚°ã‚¤ãƒ³ID: p003-suzuki
                </small>
            `;
        }

        function clearPartners() {
            localStorage.removeItem('partners');
            const result = document.getElementById('partnerResult');
            result.style.display = 'block';
            result.className = 'result';
            result.innerHTML = 'ğŸ—‘ï¸ æ¥­è€…ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã—ãŸ';
        }

        // ========================================
        // é€šå ±ãƒ‡ãƒ¼ã‚¿ä½œæˆ
        // ========================================
        function createReports() {
            const now = new Date();
            const dateStr = now.getFullYear() + 
                          String(now.getMonth() + 1).padStart(2, '0') + 
                          String(now.getDate()).padStart(2, '0');

            const reports = [
                {
                    id: 'RPT-' + dateStr + '-001',
                    userId: 'TAMJ-S001',
                    reporter: 'ç”°ä¸­èŠ±å­',
                    companyCode: 'TAMJ',
                    officeCode: 'TAMJ-J0001',
                    officeName: 'ã€‡ã€‡äº‹æ¥­æ‰€',
                    title: 'ç‰¹æµ´A',
                    category: 'ç©ºèª¿',
                    priority: 'é«˜',
                    location: '1F æµ´å®¤',
                    description: 'ç•°éŸ³ãŒã—ã¦å†·æˆ¿ãŒåŠ¹ã‹ãªã„',
                    timestamp: new Date(now.getTime() - 2 * 60 * 60 * 1000).toISOString(), // 2æ™‚é–“å‰
                    emergency: false,
                    // æ¥­è€…æƒ…å ±ï¼ˆè‡ªå‹•å‰²ã‚Šå½“ã¦æ¸ˆã¿ï¼‰
                    assignedPartnerId: 'PARTNER-001',
                    assignedPartnerName: 'æ±äº¬è¨­å‚™å·¥æ¥­æ ªå¼ä¼šç¤¾',
                    assignedAt: new Date(now.getTime() - 2 * 60 * 60 * 1000).toISOString(),
                    contractorStatus: 'æœªå¯¾å¿œ',
                    contractorComments: []
                },
                {
                    id: 'RPT-' + dateStr + '-002',
                    userId: 'TAMJ-S002',
                    reporter: 'å±±æœ¬å¤ªéƒ',
                    companyCode: 'TAMJ',
                    officeCode: 'TAMJ-J0001',
                    officeName: 'ã€‡ã€‡äº‹æ¥­æ‰€',
                    title: 'çµ¦æ¹¯å™¨â‘ ',
                    category: 'çµ¦æ¹¯',
                    priority: 'ä¸­',
                    location: '2F å¨æˆ¿',
                    description: 'ãŠæ¹¯ãŒå‡ºãªã„',
                    timestamp: new Date(now.getTime() - 5 * 60 * 60 * 1000).toISOString(), // 5æ™‚é–“å‰
                    emergency: false,
                    // æ¥­è€…æƒ…å ±ï¼ˆè‡ªå‹•å‰²ã‚Šå½“ã¦æ¸ˆã¿ï¼‰
                    assignedPartnerId: 'PARTNER-001',
                    assignedPartnerName: 'æ±äº¬è¨­å‚™å·¥æ¥­æ ªå¼ä¼šç¤¾',
                    assignedAt: new Date(now.getTime() - 5 * 60 * 60 * 1000).toISOString(),
                    contractorStatus: 'å¯¾å¿œä¸­',
                    contractorComments: [
                        {
                            text: 'ç¾å ´ç¢ºèªã«å‘ã‹ã„ã¾ã™',
                            status: 'å¯¾å¿œä¸­',
                            timestamp: new Date(now.getTime() - 4 * 60 * 60 * 1000).toISOString()
                        }
                    ]
                },
                {
                    id: 'RPT-' + dateStr + '-003',
                    userId: 'TAMJ-S001',
                    reporter: 'ç”°ä¸­èŠ±å­',
                    companyCode: 'TAMJ',
                    officeCode: 'TAMJ-J0001',
                    officeName: 'ã€‡ã€‡äº‹æ¥­æ‰€',
                    title: 'ç…§æ˜å™¨å…·â‘¢',
                    category: 'é›»æ°—',
                    priority: 'ä½',
                    location: '3F å»Šä¸‹',
                    description: 'é›»çƒãŒåˆ‡ã‚Œã¦ã„ã‚‹',
                    timestamp: new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString(), // 1æ—¥å‰
                    emergency: false,
                    // æ¥­è€…æƒ…å ±ï¼ˆè‡ªå‹•å‰²ã‚Šå½“ã¦æ¸ˆã¿ï¼‰
                    assignedPartnerId: 'PARTNER-003',
                    assignedPartnerName: 'æ—¥æœ¬é›»æ°—å·¥äº‹æ ªå¼ä¼šç¤¾',
                    assignedAt: new Date(now.getTime() - 24 * 60 * 60 * 1000).toISOString(),
                    contractorStatus: 'å®Œäº†',
                    contractorComments: [
                        {
                            text: 'é›»çƒã‚’äº¤æ›ã—ã¾ã—ãŸ',
                            status: 'å®Œäº†',
                            timestamp: new Date(now.getTime() - 20 * 60 * 60 * 1000).toISOString()
                        }
                    ],
                    resolvedAt: new Date(now.getTime() - 20 * 60 * 60 * 1000).toISOString()
                }
            ];

            localStorage.setItem('onetouch.reports', JSON.stringify(reports));
            
            const result = document.getElementById('reportResult');
            result.style.display = 'block';
            result.className = 'result';
            result.innerHTML = `
                âœ… é€šå ±ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã—ãŸï¼<br>
                <strong>${reports.length}ä»¶</strong> ã®é€šå ±ã‚’ç™»éŒ²<br><br>
                <small>
                é€šå ±1: ç‰¹æµ´Aï¼ˆç©ºèª¿/é«˜ï¼‰ - æœªå¯¾å¿œ<br>
                é€šå ±2: çµ¦æ¹¯å™¨â‘ ï¼ˆçµ¦æ¹¯/ä¸­ï¼‰ - å¯¾å¿œä¸­<br>
                é€šå ±3: ç…§æ˜å™¨å…·â‘¢ï¼ˆé›»æ°—/ä½ï¼‰ - å®Œäº†
                </small>
            `;
        }

        function clearReports() {
            localStorage.removeItem('onetouch.reports');
            const result = document.getElementById('reportResult');
            result.style.display = 'block';
            result.className = 'result';
            result.innerHTML = 'ğŸ—‘ï¸ é€šå ±ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã—ãŸ';
        }

        // ========================================
        // ãƒ‡ãƒ¼ã‚¿ç¢ºèª
        // ========================================
        function viewData() {
            const partners = JSON.parse(localStorage.getItem('partners') || '[]');
            const reports = JSON.parse(localStorage.getItem('onetouch.reports') || '[]');

            const data = {
                partners: {
                    count: partners.length,
                    data: partners
                },
                reports: {
                    count: reports.length,
                    data: reports
                }
            };

            const view = document.getElementById('dataView');
            view.style.display = 'block';
            view.textContent = JSON.stringify(data, null, 2);
        }

        // ========================================
        // å…¨å‰Šé™¤
        // ========================================
        function clearAll() {
            if (!confirm('æœ¬å½“ã«å…¨ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) return;

            localStorage.removeItem('partners');
            localStorage.removeItem('onetouch.reports');

            alert('âœ… å…¨ãƒ‡ãƒ¼ã‚¿ã‚’å‰Šé™¤ã—ã¾ã—ãŸ');
            location.reload();
        }
    </script>
</body>
</html>
